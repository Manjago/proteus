# Proteus CLI Reference

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º Proteus.

## –û–±–∑–æ—Ä

```bash
proteus <command> [options]
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `run` ‚Äî –∑–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
- `checkpoint` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å checkpoint —Ñ–∞–π–ª–∞–º–∏
- `assemble` ‚Äî –∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ .asm —Ñ–∞–π–ª–æ–≤
- `analyze` ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `info` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ

## proteus run

–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
proteus run [options]
```

### –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-------|----------|--------------|
| `-i, --inject FILE` | –ò–Ω—ä–µ–∫—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –∏–∑ .asm —Ñ–∞–π–ª–∞ | *–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ* (–µ—Å–ª–∏ –Ω–µ—Ç --resume) |
| `-n, --name NAME` | –ò–º—è –¥–ª—è –∏–Ω—ä–µ—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ | –∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ .asm |
| `-c, --cycles N` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–∫–ª–æ–≤ (0 = –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ) | 0 |
| `-s, --soup-size N` | –†–∞–∑–º–µ—Ä –ø–∞–º—è—Ç–∏ (—è—á–µ–µ–∫) | 100000 |
| `--seed N` | Seed –¥–ª—è RNG (–¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏) | random |
| `--max-organisms N` | –ú–∞–∫—Å–∏–º—É–º –∂–∏–≤—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤ | 1000 |
| `-m, --mutation-rate R` | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º—É—Ç–∞—Ü–∏–∏ (0.0-1.0) | 0.002 |
| `--resume FILE` | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–∑ checkpoint | - |
| `--save FILE` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å checkpoint –ø–æ—Å–ª–µ run | - |
| `--checkpoint-interval N` | **Auto-save –∫–∞–∂–¥—ã–µ N —Ü–∏–∫–ª–æ–≤** (—Ç—Ä–µ–±—É–µ—Ç --save) | 0 (–≤—ã–∫–ª) |
| `--report-interval N` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç—á—ë—Ç–∞ (—Ü–∏–∫–ª–æ–≤) | 1000 |
| `-q, --quiet` | –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º (–º–∏–Ω–∏–º—É–º –≤—ã–≤–æ–¥–∞) | false |
| `-f, --config FILE` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª (HOCON) | - |

### Debug –æ–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `--debug FILE` | –í–∫–ª—é—á–∏—Ç—å –ø–æ–∫–∞–¥—Ä–æ–≤—É—é –∑–∞–ø–∏—Å—å (–∏–ª–∏ `-` –¥–ª—è stdout) |
| `--from N` | –ü–æ–∫–∞–∑–∞—Ç—å —Ü–∏–∫–ª—ã –Ω–∞—á–∏–Ω–∞—è —Å N |
| `--to N` | –ü–æ–∫–∞–∑–∞—Ç—å —Ü–∏–∫–ª—ã –¥–æ N (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ) |
| `--summary` | –¢–æ–ª—å–∫–æ —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ |

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
proteus run --inject ancestor.asm --cycles 100000

# –° seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
proteus run --inject ancestor.asm --cycles 100000 --seed 12345

# –ë–æ–ª—å—à–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å auto-checkpoint (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø!)
proteus run --inject ancestor.asm \
    --cycles 1000000 \
    --soup-size 1000000 \
    --max-organisms 5000 \
    --save result.mv \
    --checkpoint-interval 50000  # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–∞–∂–¥—ã–µ 50K —Ü–∏–∫–ª–æ–≤

# –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–∑ checkpoint
proteus run --resume checkpoint.mv --cycles 50000 --save checkpoint.mv

# Debug —Ä–µ–∂–∏–º
proteus run --inject ancestor.asm --cycles 100 --debug output.txt

# Debug –≤ stdout
proteus run --inject ancestor.asm --cycles 40 --debug -

# Debug —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
proteus run --inject ancestor.asm --cycles 100 \
    --debug output.txt --from 50 --to 70
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ

1. **–°–≤–µ–∂–∏–π —Å—Ç–∞—Ä—Ç** (`--inject` –±–µ–∑ `--resume`):
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∏—Ä
   - –ò–Ω—ä–µ—Ü–∏—Ä—É–µ—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–º –∏–∑ —Ñ–∞–π–ª–∞
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∏–º—É–ª—è—Ü–∏—è

2. **–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ** (`--resume`):
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ checkpoint
   - RNG –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π resume)
   - CLI –æ–ø—Ü–∏–∏ (--max-organisms, --cycles –∏ –¥—Ä.) –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ checkpoint

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –ø—Ä–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏** (`--resume` + `--inject`):
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ checkpoint
   - –ò–Ω—ä–µ—Ü–∏—Ä—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ä–≥–∞–Ω–∏–∑–º
   - –£–¥–æ–±–Ω–æ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–∏–¥–∞–º–∏

4. **Debug —Ä–µ–∂–∏–º** (`--debug`):
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ü–∏–∫–ª: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤, –ø–∞–º—è—Ç—å, —Å–æ–±—ã—Ç–∏—è
   - –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ü–∏–∫–ª–∞–º (`--from`, `--to`)
   - `--summary` –≤—ã–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É

---

## proteus checkpoint

–†–∞–±–æ—Ç–∞ —Å checkpoint —Ñ–∞–π–ª–∞–º–∏ (.mv).

### –ü–æ–¥–∫–æ–º–∞–Ω–¥—ã

#### checkpoint info

–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ checkpoint —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ–ø—É–ª—è—Ü–∏–∏:

```bash
proteus checkpoint info FILE [options]
```

**–û–ø—Ü–∏–∏:**

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `-a, --all` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ—Ä–≥–∞–Ω–∏–∑–º—ã (–Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 20) |

**–í—ã–≤–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç:**
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –≤–µ—Ä—Å–∏—è, —Ü–∏–∫–ª—ã, seed, —Ä–∞–∑–º–µ—Ä soup
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ø—É–ª—è—Ü–∏–∏: spawns, deaths
- **–ê–Ω–∞–ª–∏–∑ –ø–æ–ø—É–ª—è—Ü–∏–∏:**
  - `[R]` Reproductive ‚Äî –º–æ–∂–µ—Ç —Ä–∞–∑–º–Ω–æ–∂–∞—Ç—å—Å—è (–µ—Å—Ç—å ALLOCATE + COPY + SPAWN)
  - `[Z]` Zombie ‚Äî IP –≤—ã—à–µ–ª –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–º–∞
  - `[L]` Looping ‚Äî –µ—Å—Ç—å JMP —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º offset (—Ü–∏–∫–ª)
  - `[P]` Pending ‚Äî –≥–æ—Ç–æ–≤–∏—Ç –ø–æ—Ç–æ–º–∫–∞ (–µ—Å—Ç—å pending allocation)
  - `[E]` Erroring ‚Äî –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ (>50% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ª–∏–Ω–∏—è–º (Anc, Para, Chao –∏ –∏—Ö –º—É—Ç–∞–Ω—Ç—ã)
- –°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤ —Å —Ñ–ª–∞–≥–∞–º–∏

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìä Population Analysis:
   [R] Reproductive:  1234 (24.7%) - can reproduce
   [Z] Zombies:       3500 (70.0%) - IP outside code
   [L] Looping:        500 (10.0%) - has JMP back
   [P] Pending:        200 (4.0%) - preparing spawn
   [E] Erroring:        50 (1.0%) - >50% errors

üå≥ Lineage distribution:
   Anc: 2000 (40.0%)
   Para: 1500 (30.0%)
   Chao: 1000 (20.0%)
   Unknown: 500 (10.0%)

üß¨ Organisms:
   [R.L..] Anc-M#12345 @ [1000..1025) size=25 age=150
   [.Z...] Para-M#12346 @ [2000..2012) size=12 age=300
```

#### checkpoint diff

–°—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–∞ checkpoint:

```bash
proteus checkpoint diff FILE1 FILE2
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –≤:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ü–∏–∫–ª–æ–≤
- –°–æ—Å—Ç–æ—è–Ω–∏–∏ soup
- –û—Ä–≥–∞–Ω–∏–∑–º–∞—Ö
- RNG state

#### checkpoint dump

–î–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –ø–æ ID:

```bash
proteus checkpoint dump FILE ORGANISM_ID [options]
```

**–û–ø—Ü–∏–∏:**

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `-r, --raw` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—ã—Ä—ã–µ –∫–æ–¥—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π |
| `-c, --context` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–º—è—Ç—å –≤–æ–∫—Ä—É–≥ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ |

**–í—ã–≤–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–≥–∞–Ω–∏–∑–º–µ (ID, –∏–º—è, –∞–¥—Ä–µ—Å, —Ä–∞–∑–º–µ—Ä, –≤–æ–∑—Ä–∞—Å—Ç)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ (R0-R7)
- Pending allocation (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –î–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å –æ—Ç–º–µ—Ç–∫–æ–π —Ç–µ–∫—É—â–µ–≥–æ IP

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ checkpoint
proteus checkpoint info experiment.mv

# –î–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º #45865659
proteus checkpoint dump final.mv 45865659

# –° —Å—ã—Ä—ã–º–∏ –∫–æ–¥–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–∞–º—è—Ç–∏
proteus checkpoint dump final.mv 45865659 -r -c

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º–∞
proteus run --resume base.mv --cycles 1000 --save run1.mv
proteus run --resume base.mv --cycles 1000 --save run2.mv
proteus checkpoint diff run1.mv run2.mv  # –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞—Å—Ç—å!
```

---

## proteus assemble

–ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ .asm —Ñ–∞–π–ª–æ–≤.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
proteus assemble FILE [options]
```

### –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `-d, --disassemble` | –ü–æ–∫–∞–∑–∞—Ç—å –¥–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ |
| `-o, --output FILE` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π –≤—ã–≤–æ–¥ |
| `-v, --verbose` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ |

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
proteus assemble myorg.asm

# –° –¥–∏–∑–∞—Å—Å–µ–º–±–ª–µ—Ä–æ–º
proteus assemble myorg.asm -d

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫
proteus assemble myorg.asm -o myorg.bin
```

---

## proteus analyze

–ê–Ω–∞–ª–∏–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–∏–º—É–ª—è—Ü–∏–∏.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
proteus analyze [options]
```

### –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `-i, --input FILE` | –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª –¥–∞–Ω–Ω—ã—Ö |
| `--genome-stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–µ–Ω–æ–º–∞–º |
| `--population` | –ì—Ä–∞—Ñ–∏–∫ –ø–æ–ø—É–ª—è—Ü–∏–∏ |

---

## proteus info

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```bash
proteus info
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –í–µ—Ä—Å–∏—é
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- Quick start guide
- –°–ø–∏—Å–æ–∫ –ø—Ä–∏–º–µ—Ä–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤

---

## JVM –∏ GC –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–î–ª—è –¥–æ–ª–≥–∏—Ö —Å–∏–º—É–ª—è—Ü–∏–π –≤–∞–∂–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ JVM.

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ GC

| JDK –≤–µ—Ä—Å–∏—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π GC | –û–ø—Ü–∏–∏ |
|------------|------------------|-------|
| JDK 24+ | ZGC (generational –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `-XX:+UseZGC` |
| JDK 21-23 | ZGC Generational | `-XX:+UseZGC -XX:+ZGenerational` |
| JDK 17-20 | ZGC | `-XX:+UseZGC` |
| JDK 11-16 | G1GC | `-XX:+UseG1GC -XX:MaxGCPauseMillis=200` |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

```bash
# –ö–æ—Ä–æ—Ç–∫–∞—è —Å–∏–º—É–ª—è—Ü–∏—è (–¥–æ 1M —Ü–∏–∫–ª–æ–≤)
java -Xmx1g -jar proteus.jar run ...

# –°—Ä–µ–¥–Ω—è—è —Å–∏–º—É–ª—è—Ü–∏—è (1-10M —Ü–∏–∫–ª–æ–≤) ‚Äî JDK 24+
java -Xmx2g -XX:+UseZGC -jar proteus.jar run ...

# –î–æ–ª–≥–∞—è —Å–∏–º—É–ª—è—Ü–∏—è (–Ω–µ–¥–µ–ª—è+)
java -Xmx4g \
    -XX:+UseZGC \
    -Xlog:gc*:file=gc.log:time:filecount=3,filesize=10m \
    -jar proteus.jar run \
    --checkpoint-interval 100000 \
    ...
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–∞–º—è—Ç–∏

| Soup size | Max organisms | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π -Xmx |
|-----------|---------------|-------------------|
| 100K | 1000 | 512m |
| 1M | 1000 | 1g |
| 1M | 5000 | 2g |
| 1M | 10000 | 4g |
| 10M | 10000 | 8g |

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –ø–∞–º—è—Ç–∏

–ü—Ä–∏ heap usage > 85%:
1. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è emergency checkpoint (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `--save`)
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `System.gc()`

–ü—Ä–∏ heap usage > 90%:
1. –°–∏–º—É–ª—è—Ü–∏—è —Å—Ç–∞–≤–∏—Ç—Å—è –Ω–∞ –ø–∞—É–∑—É
2. –î–µ–ª–∞–µ—Ç—Å—è –¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫ GC —Å –ø–∞—É–∑–∞–º–∏ 2-10 —Å–µ–∫—É–Ω–¥
3. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ ‚Äî –≤—ã–≤–æ–¥–∏—Ç—Å—è warning –≤ –ª–æ–≥

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–æ–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç

```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞ 100K —Ü–∏–∫–ª–æ–≤
proteus run --inject examples/ancestor.asm --cycles 100000

# –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
proteus run --inject examples/ancestor.asm \
    --cycles 100000 --save result.mv

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å
proteus checkpoint info result.mv
```

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–∏–¥–∞–º–∏

```bash
# –®–∞–≥ 1: –ü–∞—Ä–∞–∑–∏—Ç
proteus run --inject examples/parasite.asm --name Para \
    --cycles 1 --seed 12345 -s 1000000 --save exp.mv

# –®–∞–≥ 2: –•–∞–æ—Ç–∏–∫
proteus run --inject examples/chaotic.asm --name Chao \
    --cycles 1 --resume exp.mv --save exp.mv

# –®–∞–≥ 3: Ancestor
proteus run --inject examples/ancestor.asm --name Anc \
    --cycles 1 --resume exp.mv --save exp.mv

# –®–∞–≥ 4: –î–æ–ª–≥–∞—è —Å–∏–º—É–ª—è—Ü–∏—è
proteus run --resume exp.mv \
    --cycles 1000000 --max-organisms 5000 --save final.mv

# –®–∞–≥ 5: –ê–Ω–∞–ª–∏–∑
proteus checkpoint info final.mv
```

### –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å

```bash
# –ó–∞–ø—É—Å–∫ —Å seed
proteus run --inject ancestor.asm --cycles 10000 \
    --seed 42 --save run1.mv

# –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å —Ç–µ–º –∂–µ seed
proteus run --inject ancestor.asm --cycles 10000 \
    --seed 42 --save run2.mv

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å
proteus checkpoint diff run1.mv run2.mv
# Output: "Checkpoints are identical"
```

### Debug workflow

```bash
# –ó–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–µ 100 —Ü–∏–∫–ª–æ–≤
proteus run --inject ancestor.asm \
    --cycles 100 --debug initial.txt --save state.mv

# –î–æ–ª–≥–∞—è —Å–∏–º—É–ª—è—Ü–∏—è (–±–µ–∑ debug)
proteus run --resume state.mv \
    --cycles 500000 --save state.mv

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
proteus run --resume state.mv \
    --cycles 100 --debug after500k.txt

# –°—Ä–∞–≤–Ω–∏—Ç—å initial.txt –∏ after500k.txt
```

---

## –§–æ—Ä–º–∞—Ç checkpoint —Ñ–∞–π–ª–æ–≤

Checkpoint —Ñ–∞–π–ª—ã (`.mv`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç MVStore (H2 Database).

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–µ—Ä—Å–∏—è, —Ü–∏–∫–ª—ã, seed)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏–º—É–ª—è—Ü–∏–∏
- –°–æ—Å—Ç–æ—è–Ω–∏–µ soup (–ø–∞–º—è—Ç—å)
- –°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–º–æ–≤ —Å –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- RNG state –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ resume

**–í–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞:** 1

---

## –°–º. —Ç–∞–∫–∂–µ

- [README.md](../README.md) ‚Äî –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- [ISA_SPEC.md](ISA_SPEC.md) ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- [ASM_SPEC.md](ASM_SPEC.md) ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∞—Å—Å–µ–º–±–ª–µ—Ä–∞
- [ARCHITECTURE.md](ARCHITECTURE.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
